pico-8 cartridge // http://www.pico-8.com
version 39
__lua__
--fireworks tootcart
--by jess telford
::_::cls()srand()r=rnd
for i=1,20 do
m=8+8*r()q=(t()/m)%1
x=64+q*256*(r()-.5)y=128-sin(q)*-64*(r()+.8)s=q>.2 and q<.7 and 1 or 0
circ(x,y,-s,7)j=2*(q-.2)k=m*(1-(1-j)^9)for u=0,1,.1 do
circfill(x+sin(u)*k,y+cos(u)*k,(s*2)-1,8+(i/4)%8)
end
end
flip()goto _
-- #tootcart #pico8 #lua
-->8
-- annotated version:
--[[
::_::
cls()
srand()
r=rnd
for i = 1, 20 do
  -- a number from 8-16, used to slow down the fireworks & size the explosion
  m = 8 + 8 * r()
  -- frequency
  q = (t() / m) % 1
  -- x position, based on frequency, then scaled out
  x = 64 + q * 256 * (r() - .5)
  -- amplitude ensures it reaches top 2/3rds of screen
  y = 128 - sin(q) * -64 * (r() + .8)
  -- we have two stages:
  -- 0: the firework is launching, for the upward curve of sin() (ie; 0 - 0.2)
  -- 1: the explosion, only on the downward curve of sin() (ie; 0.2 - 0.7)
  s = q > .2 and q < .7 and 1 or 0
  -- render the launching firework
  -- -1 will not render anything
  circ(x, y, -s, 7)
  -- the explosion lasts until it drops off the bottom of the screen, which is
  -- only .5 sin() iteration, so we normalise that to a range of 0 - 1
  -- note: `2 *` is the same as `/ 0.5`
  j = 2 * (q - .25)
  -- based on easeOutQuart, we rapidly ease the value toward its target, then
  -- scale it by the desired radius
  k = (1 - (1 - j) ^ 9) * m
  -- render dots around the circumference of the explosion circle
  for u = 0, 1, 0.1 do
    circfill(
      x + sin(u) * k,
      y + cos(u) * k,
      -- when s = 0, this results in -1, and so wont render anything
      (s * 2) - 1,
      -- pick from the bright colors
      8 + (i / 4) % 8)
  end
end
flip()
goto _
--]]
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000009990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000900000900000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000009990000000009990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000900000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000008000000800000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000900088800000000008890000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000009990008000000000000999000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000900000000000000000090000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000080c00000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000c0009880000000c0000000090888000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000ccc09990000000ccc000000999080000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000c0009000000090c0000000090000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000900009000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000009990000000099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000c0000000008999000000000c990000080000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000ccc00000008889000009000ccc00000888000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000c0000000098000000999000c009000080000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000009990000000900000099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000900000000000000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000008000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000088800000000008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000c0000000000000800000000c000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000ccc00000009000000000008ccc09000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000c0000000999000000000888c099900000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000900000000000800009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000b0b0b000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000bbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000c0000009000000c000900b0b0b0b0b0000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000ccc00009990009ccc0999bbb00000bbb000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000c000000c000999c000900b0000000b0000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000ccc000900000000b0000000b0000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000c000000000000bbb00000bbb000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000b0b000b0b0000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000bbbbbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000bbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000b00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000aaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000a0000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000aaa00000000000aaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000a0000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000a0000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000aaa00000000000000000000aaa00000800000000000000000070000000000000000000000000000000000000000000000000000000000000
00000000000000000a0000000000000000000000a000008880000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000080000000800000080000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000888000000000000888000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000080000000000000080000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000
00000000000000000a0000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000aaa00000000000000000000aaa000000000000000000000000000000000000000000000000000000000000000b0000000000000000000000
00000000000000000a0000000000000000080000a000000000000000008000000000000000000000000000000000000000000000bbb000000000000000000000
00000000000000000000000000000000008880000000000000000000088800000000000000000000000000000000000000b000000b000000b000000000000000
0000000000000000000000000000000000080000000000000000000000800000000000000000000000000000000000000bbb00000000000bbb00000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000000000000b000000000000000
000000000000000000000a0000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000aaa00000000000aaa0000000000000000000007000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000a0000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000aaa0000080000000000000000000000800000000000000000000000000000000000b0000000000000000000000b0000000000
0000000000000000000000000000a0000088800000000000000000000888000000000000000000000000000000000bbb00000000000000000000bbb000000000
0000000000000000000000000000000000080000000000000000000000800000000000000000000000000000000000b0000000000000000000000b0000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000080000000000000080000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000088800000000000088800000000000000000000000000000000000000b0000000000000000000000b0000000000
000000000000000000000000000000000000000800000008000000800000000000000000000000000000000000000bbb00000000000000000000bbb000000000
0000000000000000000000000000000000000000000000888000000000000000000000000000000000000000000000b0000000000000000000000b0000000000
00000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000000000000b000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bbb00000000000bbb00000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000000000000b000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bbb000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

